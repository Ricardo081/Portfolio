{"ast":null,"code":"import _slicedToArray from\"C:/Users/flapp/Documents/GitHub/Portfolio/WebDev/Buc-ees/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{useState}from'react';import axios from'axios';import'./Right_Container.css';import CurrencyFormat from'react-currency-format';import{useStateValue}from'../../local_storage/StateProvider';import{getBasketTotal}from'../../local_storage/Reducer';import TableRow from'../../local_storage/data_receivers/TableRow';//npm install react-currency-format --legacy-peer-deps\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Right_Container(){var _useStateValue=useStateValue(),_useStateValue2=_slicedToArray(_useStateValue,2),basket=_useStateValue2[0].basket,dispatch=_useStateValue2[1];//for local data storage\n//Create\n//DB Access\nvar _useState=useState({orderMade:[],total:''}),_useState2=_slicedToArray(_useState,2),order=_useState2[0],setOrder=_useState2[1];var createOrder=function createOrder(){{basket.map(function(item){return order.orderMade.push(item);});}order.total=getBasketTotal(basket);axios.post(\"http://localhost:5000/orders\",order).then(function(res){window.location.reload(false);}).catch(function(err){return console.error(err);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"Right_Container\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"rTitle\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Checkout\"})}),/*#__PURE__*/_jsx(\"div\",{id:\"divTable\",children:/*#__PURE__*/_jsxs(\"table\",{id:\"rTable\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Item\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Price\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:basket.map(function(item){return/*#__PURE__*/_jsx(TableRow,{id:item.id,itemName:item.item,price:item.cost});})})]})}),/*#__PURE__*/_jsx(\"div\",{id:\"rTotal\",children:/*#__PURE__*/_jsx(CurrencyFormat,{renderText:function renderText(value){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"p\",{children:[\"(\",basket.length,\") Total: \",/*#__PURE__*/_jsx(\"b\",{children:value})]})});},decimalScale:2,value:getBasketTotal(basket),displayType:\"text\",thousandSeparator:true,prefix:\"$\"})}),/*#__PURE__*/_jsx(\"div\",{id:\"rButton\",children:/*#__PURE__*/_jsx(\"button\",{onClick:createOrder,children:\"Pay\"})})]});}export default Right_Container;","map":{"version":3,"sources":["C:/Users/flapp/Documents/GitHub/Portfolio/WebDev/Buc-ees/client/src/pages/right_container/Right_Container.js"],"names":["React","useState","axios","CurrencyFormat","useStateValue","getBasketTotal","TableRow","Right_Container","basket","dispatch","orderMade","total","order","setOrder","createOrder","map","item","push","post","then","res","window","location","reload","catch","err","console","error","id","cost","value","length"],"mappings":"kJAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,QAAR,KAAuB,OAAvB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,uBAAP,CACA,MAAOC,CAAAA,cAAP,KAA2B,uBAA3B,CACA,OAASC,aAAT,KAA8B,mCAA9B,CACA,OAASC,cAAT,KAA+B,6BAA/B,CACA,MAAOC,CAAAA,QAAP,KAAqB,6CAArB,CACI;6IAEJ,QAASC,CAAAA,eAAT,EAA2B,CACvB,mBAA6BH,aAAa,EAA1C,kDAAQI,MAAR,oBAAQA,MAAR,CAAiBC,QAAjB,oBAA4C;AAC5C;AACA;AACA,cAA0BR,QAAQ,CAAC,CAC/BS,SAAS,CAAC,EADqB,CAE/BC,KAAK,CAAC,EAFyB,CAAD,CAAlC,wCAAOC,KAAP,eAAcC,QAAd,eAIA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACtB,CAACN,MAAM,CAACO,GAAP,CAAW,SAAAC,IAAI,QACZJ,CAAAA,KAAK,CAACF,SAAN,CAAgBO,IAAhB,CAAqBD,IAArB,CADY,EAAf,EAEE,CACHJ,KAAK,CAACD,KAAN,CAAYN,cAAc,CAACG,MAAD,CAA1B,CACAN,KAAK,CACFgB,IADH,CACQ,8BADR,CACwCN,KADxC,EAEGO,IAFH,CAEQ,SAAAC,GAAG,CAAI,CAACC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,KAAvB,EAA8B,CAF9C,EAGGC,KAHH,CAGS,SAAAC,GAAG,QAAIC,CAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd,CAAJ,EAHZ,EAIH,CATD,CAUA,mBACI,aAAK,SAAS,CAAC,iBAAf,wBACI,YAAK,EAAE,CAAC,QAAR,uBACI,gCADJ,EADJ,cAII,YAAK,EAAE,CAAC,UAAR,uBACI,eAAO,EAAE,CAAC,QAAV,wBACI,oCACI,mCACI,4BADJ,cAEI,6BAFJ,cAGI,8BAHJ,GADJ,EADJ,cAQI,uBACKjB,MAAM,CAACO,GAAP,CAAW,SAAAC,IAAI,qBACZ,KAAC,QAAD,EACA,EAAE,CAAEA,IAAI,CAACY,EADT,CAEA,QAAQ,CAAEZ,IAAI,CAACA,IAFf,CAGA,KAAK,CAAEA,IAAI,CAACa,IAHZ,EADY,EAAf,CADL,EARJ,GADJ,EAJJ,cAyBI,YAAK,EAAE,CAAC,QAAR,uBACI,KAAC,cAAD,EACA,UAAU,CAAE,oBAACC,KAAD,qBACR,sCACA,yBACMtB,MAAM,CAACuB,MADb,0BAC6B,mBAAID,KAAJ,EAD7B,GADA,EADQ,EADZ,CAQA,YAAY,CAAE,CARd,CASA,KAAK,CAAEzB,cAAc,CAACG,MAAD,CATrB,CAUA,WAAW,CAAE,MAVb,CAWA,iBAAiB,CAAE,IAXnB,CAYA,MAAM,CAAE,GAZR,EADJ,EAzBJ,cAyCI,YAAK,EAAE,CAAC,SAAR,uBACI,eAAQ,OAAO,CAAEM,WAAjB,iBADJ,EAzCJ,GADJ,CAgDH,CAED,cAAeP,CAAAA,eAAf","sourcesContent":["import React from 'react'\r\nimport {useState} from 'react'\r\nimport axios from 'axios'\r\nimport './Right_Container.css'\r\nimport CurrencyFormat from 'react-currency-format'\r\nimport { useStateValue } from '../../local_storage/StateProvider'\r\nimport { getBasketTotal } from '../../local_storage/Reducer'\r\nimport TableRow from '../../local_storage/data_receivers/TableRow'\r\n    //npm install react-currency-format --legacy-peer-deps\r\n\r\nfunction Right_Container() {\r\n    const [{basket}, dispatch] = useStateValue()//for local data storage\r\n    //Create\r\n    //DB Access\r\n    const [order, setOrder] = useState({\r\n        orderMade:[],\r\n        total:'',\r\n    })\r\n    const createOrder = () => {\r\n        {basket.map(item => (\r\n            order.orderMade.push(item)\r\n        ))}\r\n        order.total=getBasketTotal(basket)\r\n        axios\r\n          .post(\"http://localhost:5000/orders\", order)\r\n          .then(res => {window.location.reload(false)})\r\n          .catch(err => console.error(err));\r\n    }\r\n    return (\r\n        <div className=\"Right_Container\">\r\n            <div id=\"rTitle\">\r\n                <h1>Checkout</h1>\r\n            </div>\r\n            <div id=\"divTable\">\r\n                <table id=\"rTable\">\r\n                    <thead>\r\n                        <tr>\r\n                            <td>Item</td>\r\n                            <td>Price</td>\r\n                            <td>Action</td>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {basket.map(item => (\r\n                            <TableRow\r\n                            id={item.id}\r\n                            itemName={item.item}\r\n                            price={item.cost}         \r\n                            />\r\n                            \r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n            <div id=\"rTotal\">\r\n                <CurrencyFormat\r\n                renderText={(value) => (\r\n                    <>\r\n                    <p>\r\n                        ({basket.length}) Total: <b>{value}</b>\r\n                    </p>\r\n                    </>\r\n                )}\r\n                decimalScale={2}\r\n                value={getBasketTotal(basket)}\r\n                displayType={\"text\"}\r\n                thousandSeparator={true}\r\n                prefix={\"$\"}\r\n                />\r\n            </div>\r\n            <div id=\"rButton\">\r\n                <button onClick={createOrder}>Pay</button>\r\n                \r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Right_Container\r\n"]},"metadata":{},"sourceType":"module"}